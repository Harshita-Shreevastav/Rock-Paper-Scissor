<!DOCTYPE html>

<html>

    <head>
        <title>
            Rock-Paper-Scissor
        </title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:ital,opsz,wght@0,8..144,100..900;1,8..144,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

    
    </style>

    </head>

    <body style="padding: 100px; font-family: Roboto-Serif;">
        
        <!-- Rock,paper, scissor buttons -->

        <div style="display: flex; flex-direction: column;">
            <div class="d-flex justify-content-center">

                <!-- Rock Button -->
                <div >
                    <button style="background-color: white; border:none" onclick="
                        userMove='Rock';
                        computerMove=decideMove();
                        decideResult(userMove,computerMove);
                        ">
                        <img src="rock.jpeg" class="rounded-circle"  style="width: 120px; " >
                    </button>
                </div>

                <!-- Paper Button -->
                <div >
                    <button style="background-color: white; border:none" onclick="
                        userMove='Paper';
                        computerMove=decideMove();
                        decideResult(userMove,computerMove);
                        ">
                        <img src="paper.jpeg" class="rounded-circle"  style="width: 120px">
                    </button>
                </div>

                <!-- Scissor Button -->
                <div >
                    <button style="background-color: white; border:none" onclick="
                        userMove='Scissor';
                        computerMove=decideMove();
                        decideResult(userMove,computerMove);
                        ">
                    <img src="scissor.jpeg" class="rounded-circle"  style="width: 120px; ">
                    </button>
                </div>

            <!-- Empty container to show the responses/selections both by the player and the user. -->
            </div>

            <div class="d-flex justify-content-center response" style="padding:30px 29px 0px 29px; 
             column-gap:5px;border-top:1px solid black; margin-top: 20px">

        

            </div>

            <!-- The score board -->
            <div class="d-flex justify-content-center" style="padding:5px 29px 10px 29px; column-gap: 0px">

                <div class="win" style="font-family: Roboto-Serif; font-size:22px; margin: 10px 30px 0px 5px;"></div>
    
                <div class=lose style="font-family: Roboto-Serif; font-size:22px; margin: 10px 30px 0px 5px;"> </div>
    
    
                <div class="tie" style="font-family: Roboto-Serif; font-size:22px; margin: 10px 235px 0px 5px;"></div>
            </div>


            <!-- Reset Button -->
            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-secondary" style="padding:0px 20px; font-size: 20px; margin: 30px 0px 0px 0px; border: 2px solid black"  onclick="

                alert('The scores will get reset.')

                localStorage.removeItem('score') //Removes the data from the local storage
                results.Win=0
                results.Lose=0
                results.Tie=0

                scoreUpdate()

                console.log(localStorage)
                
                
                


                
                ">Reset</button>
            </div>

           
        </div>
        
            
        
        

        <script>

          
            // Function that decides the computer's move. Taking randomly using in-build ramsom() which takes a value from 0 to 1 both inclusive. Divided the 0 to 1 range into 3 equal parts and assign each part to rock, paper and scissor respectively. Then, using && operators loopes it on the basis og conditions. Used less than/more than and not equal to less than/more than to avoid over lapping of values.

            function decideMove() {
                randomMove=Math.random();

                    

                    

                if (randomMove>0 && randomMove<1/3){

                    computerMove='Rock';
                    

                    


                }

                else if (randomMove>1/3 && randomMove<2/3){

                    computerMove='Paper';
                    


                }
                else if (randomMove>2/3 && randomMove<1){

                    computerMove='Scissor';

                    

                }

                return computerMove;
            }


            //Checks whether the reults objects data are false, if not it retrieves the data from the local storage else goes with the default values 0 0 0. degaulting/default operator(||)

            
            
            const results=JSON.parse(localStorage.getItem("score"))|| { Win:0,
            Lose:0,
            Tie:0
            }

            scoreUpdate()
            console.log(localStorage)
        

            
            

            
            //Function to check the result

            function decideResult(userMove,computerMove){

                // Displays the selection by both player and computer by acessing the empty container response. Leaving the place where the moves will be diplayed. YOUR CHOICE--- COMPUTER CHOICE---.----

                document.querySelector('.response').innerHTML=`
                <div>
                    <p style='font-size: 25px;'> You chose</p>
                </div>

                <div class='player-choice' style='margin-top: -10px;'>
                    
                </div> 

                <div>
                    <p style="font-size: 25px; margin-left:10px;"> Computer chose</p>
                </div>

                <div class="computer-choice"  style="margin-top: -10px;" >
                    
                </div>

                <div class="result" style="font-size: 25px; margin-left:10px;">

                </div>`

                let result='';

                
                
                
 
                
                if (userMove==='Rock'){

                    
                    
                    // When the player choose ROCK

                    if (computerMove==='Rock'){

                        result='It\'s a Tie!';
                        results.Tie+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').  innerHTML= "<img src='rock.jpeg' style='width: 50px;'>"
                        
                    }
                    
                    else if (computerMove==='Paper'){

                        result='You Lose!';
                        results.Lose+=1 
                        
                        localStorage.setItem('score',JSON.stringify(results)) 
                        scoreUpdate
                        console.log(localStorage) 
                        document.querySelector('.computer-choice').innerHTML= "<img src='paper.jpeg' style='width: 50px;'>"                   
                    }
                    
                    else if (computerMove==='Scissor'){

                        result='You Win!'
                        results.Win+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').innerHTML= "<img src='scissor.jpeg' style='width: 50px;'>"
                        
                    }
                    document.querySelector('.player-choice').innerHTML= "<img src='rock.jpeg' style='width: 50px;'>"
                    document.querySelector('.result').innerHTML= result

                    
                    

                    

                }

                //WHEN PLAYER CHOSE PAPER
                else if (userMove==='Paper'){

                     

                    if (computerMove==='Rock'){

                        result='You Win!';
                        results.Win+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').   innerHTML= "<img src='rock.jpeg' style='width: 50px;'>"
                        
                    }
                    else if (computerMove==='Paper'){

                        result='It\'s a Tie!';
                        results.Tie+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').   innerHTML= "<img src='paper.jpeg' style='width: 50px;'>"
                        
                    }

                    else if (computerMove==='Scissor'){

                        result='You Lose'
                        results.Lose+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').   innerHTML= "<img src='scissor.jpeg' style='width: 50px;'>"
                        
                    }
                    document.querySelector('.player-choice').     innerHTML= "<img src='paper.jpeg' style='width: 50px;'>"
                    document.querySelector('.result').innerHTML= result
                    

                   
                    

                    
                }
                //WHEN PLAYER CHOSE SCISSOR
                else if (userMove==='Scissor'){

                     

                    if (computerMove==='Rock'){

                        result='You Lose!';
                        results.Lose+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').   innerHTML= "<img src='rock.jpeg' style='width: 50px;'>"
                        
                    }
                    else if (computerMove==='Paper'){

                        result='You  Win!';
                        results.Win+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').   innerHTML= "<img src='paper.jpeg' style='width: 50px;'>"

                        
                    }

                    else {

                        result='It\'s a Tie!'
                        results.Tie+=1
                        
                        localStorage.setItem('score',JSON.stringify(results))
                        scoreUpdate()
                        console.log(localStorage)
                        document.querySelector('.computer-choice').innerHTML= "<img src='scissor.jpeg' style='width: 50px;'>"
                        
                    }

                    document.querySelector('.player-choice').     innerHTML= "<img src='scissor.jpeg' style='width: 50px;'>"
                    document.querySelector('.result').innerHTML= result
                    
                    
                    
                }

                        
                
                


            }

            //Function to update the score board.
            function scoreUpdate(){
                document.querySelector('.win').innerHTML= `Wins:${results.Win}`
                document.querySelector('.lose').innerHTML= `Loses:${results.Lose}`
                document.querySelector('.tie').innerHTML= `Ties:${results.Tie}`
            }

            scoreUpdate()
            

                    

        </script>
    </body>
</html>
